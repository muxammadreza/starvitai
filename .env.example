# ==========================================
# Starvit Environment Source of Truth
# Copy this to .env (or .env.local) and fill in secrets.
# ==========================================

# --- General ---
# APP_ENV: dev | staging | prod
APP_ENV=dev

# --- Backend API ---
# STARVIT_MODE: stub | live
#   stub: Adapters return fake data (local dev only).
#   live: All integrations must be real; fails if services missing.
STARVIT_MODE=stub
STARVIT_API_PUBLIC_URL=http://localhost:8000
# Internal URL for server-side calls (e.g. Next.js to API within Docker network)
STARVIT_API_INTERNAL_URL=http://api:8000

# --- Medplum (PHI Store) ---
# MEDPLUM_BASE_URL: Must include trailing slash
MEDPLUM_BASE_URL=http://localhost:8103/
MEDPLUM_APP_BASE_URL=http://localhost:3000/
MEDPLUM_STORAGE_BASE_URL=http://localhost:8103/storage/

# --- Medplum Auth / JWT Verification ---
# Used by API to verify tokens issued by Medplum
MEDPLUM_JWKS_URL=http://medplum-server:8103/.well-known/jwks.json
MEDPLUM_JWT_ISSUER=http://localhost:8103/
MEDPLUM_JWT_AUDIENCE=http://localhost:8103/

# --- Analytics (De-Identified Zone) ---
ANALYTICS_STORE_URL=postgresql://analytics:analytics@localhost:5433/starvit_analytics

# --- Graph (De-Identified Zone) ---
GRAPH_STORE_URL=http://tigergraph:9000
GRAPH_STORE_TOKEN=

# --- Infrastructure Secrets (REQUIRED) ---
# POSTGRES_PASSWORD=
# REDIS_PASSWORD=
# MEDPLUM_REDIS_PASSWORD=
# MEDPLUM_DATABASE_PASSWORD=

# --- Optional Telemetry ---
# OTEL_EXPORTER_OTLP_ENDPOINT=
